finally fixed the issue with reinforce
the issue was the wrong softmax being used for the computation of gradient

REINFORCE results
[[  0.00000000e+000   1.00000000e+000   0.00000000e+000   0.00000000e+000
    1.57835873e-048   4.55378944e-016   0.00000000e+000   0.00000000e+000
    3.19292843e-078   8.48970085e-007   0.00000000e+000   0.00000000e+000
    0.00000000e+000   2.79705286e-201   0.00000000e+000   0.00000000e+000
    9.99999976e-001]
 [  0.00000000e+000   0.00000000e+000   0.00000000e+000   0.00000000e+000
    1.00000000e+000   1.88700706e-015   1.00000000e+000   0.00000000e+000
    1.00000000e+000   3.39942794e-002   0.00000000e+000   1.00000000e+000
    1.00000000e+000   9.93283945e-202   1.00000000e+000   1.00000000e+000
    2.13225956e-008]
 [  0.00000000e+000   0.00000000e+000   0.00000000e+000   0.00000000e+000
    1.41473400e-055   1.23765754e-040   0.00000000e+000   1.00000000e+000
    7.87165909e-081   1.79099617e-005   0.00000000e+000   0.00000000e+000
    0.00000000e+000   3.20931576e-205   0.00000000e+000   0.00000000e+000
    1.74790554e-009]
 [  1.00000000e+000   0.00000000e+000   1.00000000e+000   1.00000000e+000
    3.54236036e-106   1.00000000e+000   0.00000000e+000   0.00000000e+000
    3.95508357e-086   9.65986962e-001   1.00000000e+000   0.00000000e+000
    0.00000000e+000   1.00000000e+000   0.00000000e+000   0.00000000e+000
    5.55999231e-010]]
rounded policy:
[[ 0.  1.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  1.]
 [ 0.  0.  0.  0.  1.  0.  1.  0.  1.  0.  0.  1.  1.  0.  1.  1.  0.]
 [ 0.  0.  0.  0.  0.  0.  0.  1.  0.  0.  0.  0.  0.  0.  0.  0.  0.]
 [ 1.  0.  1.  1.  0.  1.  0.  0.  0.  1.  1.  0.  0.  1.  0.  0.  0.]]
argmax policy:
[3 0 3 3 1 3 1 2 1 3 3 1 1 3 1 1 0]
TERMINATE: True, GOODNESS: False, SOFT_GOODNESS: True
bad states: [1, 3, 7, 12, 14], Total Reward: 75.3742547546, Total Steps to terminate: 27
['0:right', '1:up', '2:right', '3:right', '4:down', '5:right', '6:down', '7:left', '8:down', '9:right', '10:right', '11:down', '12:down', '13:right', '14:down', '15:down', '16:up']
Number of terminations: 100
last 10 episode rewards: [ -2.71478803  -5.96640264  47.11976274  -7.66906226   0.37182087
  -0.86266942  64.5188522   24.75298329  -2.33746676   1.69517082]

REINFORCE results: upd_rule 2
[[  1.00000000e+00   9.99850041e-01   1.02131195e-03   2.53943202e-01
    1.15929875e-02   9.97415753e-01   4.13844620e-06   6.52507231e-04
    9.17283210e-32   6.87578054e-14   1.11305348e-03   2.38622765e-03
    1.52036990e-05   2.31751791e-49   1.32440044e-10   9.97598149e-01
    2.72667296e-02]
 [  4.53687974e-93   1.69689710e-09   1.94088075e-12   1.72314821e-01
    4.27786345e-83   2.56500585e-03   3.53467198e-03   9.97091894e-01
    9.98395610e-01   1.46542322e-33   3.56449336e-03   9.97604863e-01
    2.36085188e-05   3.40391982e-05   9.99472532e-01   8.57397797e-04
    1.78389722e-01]
 [  2.90724730e-17   1.43086535e-04   9.97756354e-01   1.27598788e-01
    5.95048256e-37   1.92413642e-05   2.46134468e-10   9.01481150e-04
    1.60389100e-03   1.00000000e+00   3.43095279e-07   5.87151739e-07
    1.70061319e-05   1.02956247e-03   3.05426543e-06   1.07752469e-03
    4.54756196e-01]
 [  5.12382280e-22   6.87048250e-06   1.22233388e-03   4.46143189e-01
    9.88407012e-01   8.76895510e-39   9.96461189e-01   1.35411713e-03
    4.98674863e-07   1.11993279e-22   9.95322110e-01   8.32175976e-06
    9.99944182e-01   9.98936398e-01   5.24413371e-04   4.66928306e-04
    3.39587352e-01]]
rounded policy:
[[ 1.   1.   0.   0.3  0.   1.   0.   0.   0.   0.   0.   0.   0.   0.   0.
   1.   0. ]

    1.52036990e-05   2.31751791e-49   1.32440044e-10   9.97598149e-01
    2.72667296e-02]
 [  4.53687974e-93   1.69689710e-09   1.94088075e-12   1.72314821e-01
    4.27786345e-83   2.56500585e-03   3.53467198e-03   9.97091894e-01
    9.98395610e-01   1.46542322e-33   3.56449336e-03   9.97604863e-01
    2.36085188e-05   3.40391982e-05   9.99472532e-01   8.57397797e-04
    1.78389722e-01]
 [  2.90724730e-17   1.43086535e-04   9.97756354e-01   1.27598788e-01
    5.95048256e-37   1.92413642e-05   2.46134468e-10   9.01481150e-04
    1.60389100e-03   1.00000000e+00   3.43095279e-07   5.87151739e-07
    1.70061319e-05   1.02956247e-03   3.05426543e-06   1.07752469e-03
    4.54756196e-01]
 [  5.12382280e-22   6.87048250e-06   1.22233388e-03   4.46143189e-01
    9.88407012e-01   8.76895510e-39   9.96461189e-01   1.35411713e-03
    4.98674863e-07   1.11993279e-22   9.95322110e-01   8.32175976e-06
    9.99944182e-01   9.98936398e-01   5.24413371e-04   4.66928306e-04
    3.39587352e-01]]
rounded policy:
[[ 1.   1.   0.   0.3  0.   1.   0.   0.   0.   0.   0.   0.   0.   0.   0.
   1.   0. ]
 [ 0.   0.   0.   0.2  0.   0.   0.   1.   1.   0.   0.   1.   0.   0.   1.
   0.   0.2]
 [ 0.   0.   1.   0.1  0.   0.   0.   0.   0.   1.   0.   0.   0.   0.   0.
   0.   0.5]
 [ 0.   0.   0.   0.4  1.   0.   1.   0.   0.   0.   1.   0.   1.   1.   0.
   0.   0.3]]
argmax policy:
[0 0 2 3 3 0 3 1 1 2 3 1 3 3 1 0 2]
TERMINATE: True, GOODNESS: False, SOFT_GOODNESS: True
bad states: [0, 1, 2, 3, 14], Total Reward: 80.2621773717, Total Steps to terminate: 15
['0:up', '1:up', '2:left', '3:right', '4:right', '5:up', '6:right', '7:down', '8:down', '9:left', '10:right', '11:down', '12:right', '13:right', '14:down', '15:up', '16:left']
Number of terminations: 37
last 10 episode rewards: [ 10.23594467 -16.21737432 -16.49895408 -16.24642691 -19.20256657
 -18.67415679  39.82498698 -22.70215673 -15.65563832 -19.71170394]

REINFORCE results: upd_rule 3
[[  0.00000000e+000   1.00000000e+000   4.84184333e-322   3.93891282e-280
    1.00000000e+000   8.48237536e-196   1.00000000e+000   0.00000000e+000
    7.38984001e-021   2.76829424e-162   4.67117618e-140   0.00000000e+000
    5.59248851e-098   5.39112628e-257   1.00000000e+000   0.00000000e+000
    1.33045352e-116]
 [  1.00000000e+000   0.00000000e+000   0.00000000e+000   1.00000000e+000
    0.00000000e+000   1.04671466e-177   4.50662207e-140   1.00000000e+000
    1.00000000e+000   1.00000000e+000   4.71452827e-140   0.00000000e+000
    2.35014857e-050   2.69913118e-039   4.60730890e-055   1.00000000e+000
    2.25493908e-060]
 [  0.00000000e+000   0.00000000e+000   0.00000000e+000   1.63881755e-292
    0.00000000e+000   0.00000000e+000   6.04523281e-156   0.00000000e+000
    1.57866738e-038   4.29973852e-132   2.46621033e-140   0.00000000e+000
    1.00000000e+000   1.63659566e-189   7.71741670e-055   0.00000000e+000
    1.00000000e+000]
 [  0.00000000e+000   0.00000000e+000   1.00000000e+000   4.30427956e-277
    0.00000000e+000   1.00000000e+000   3.84126477e-140   8.87229716e-243
    2.19914558e-011   8.66268235e-144   1.00000000e+000   1.00000000e+000
    5.34400992e-032   1.00000000e+000   3.61023110e-055   0.00000000e+000
    5.23868218e-027]]
rounded policy:

[[ 0.  1.  0.  0.  1.  0.  1.  0.  0.  0.  0.  0.  0.  0.  1.  0.  0.]
 [ 1.  0.  0.  1.  0.  0.  0.  1.  1.  1.  0.  0.  0.  0.  0.  1.  0.]
 [ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  0.  1.  0.  0.  0.  1.]
 [ 0.  0.  1.  0.  0.  1.  0.  0.  0.  0.  1.  1.  0.  1.  0.  0.  0.]]
argmax policy:
[1 0 3 1 0 3 0 1 1 1 3 3 2 3 0 1 2]
TERMINATE: True, GOODNESS: False, SOFT_GOODNESS: True
bad states: [1, 4, 6, 11, 12, 14], Total Reward: 92.4564845186, Total Steps to terminate: 11
['0:down', '1:up', '2:right', '3:down', '4:up', '5:right', '6:up', '7:down', '8:down', '9:down', '10:right', '11:right', '12:left', '13:right', '14:up', '15:down', '16:left']
Number of terminations: 99
last 10 episode rewards: [-20.73021558  -0.35086415  40.09291923 -16.77119188   1.67481587
  19.5443394   20.10059578 -71.60006931  44.50365336  -0.89447614]

model-based RL results
[  59.89458557   65.2488353    70.38920711   76.29497577   60.46689186
   66.76876413   76.2474337    83.25370006   46.2177647     6.98756286
   83.60292488   92.02000042   64.64790033   77.83604742   90.28367957
  100.2577886     0.2226604 ]
[3 3 3 1 3 3 3 1 1 3 3 1 3 1 3 1 3]
rounded policy:
[3 3 3 1 3 3 3 1 1 3 3 1 3 1 3 1 3]
TERMINATE: True, GOODNESS: False, SOFT_GOODNESS: True
bad states: [13], Total Reward: 21.1012340727, Total Steps to terminate: 9
['0:right', '1:right', '2:right', '3:down', '4:right', '5:right', '6:right', '7:down', '8:down', '9:right', '10:right', '11:down', '12:right', '13:down', '14:right', '15:down', '16:right']

Q-learning results
[[ -1.14551588e+00   6.57645134e+00   1.57747560e+01  -1.33238504e+00
   -9.63353484e-02   1.02312193e+01   2.67836932e+01  -3.24118190e-01
   -2.25988568e+01  -7.16556646e+01  -9.79733217e-01   4.75452079e+01
   -1.09097476e+00  -2.33575642e+01   3.33908832e+01   1.01427570e+02
    1.33816603e+00]
 [ -2.49152531e+00   1.51951066e+00   4.64316068e+01   3.11205559e+01
   -3.32749020e+00  -1.40704292e+01   1.79885042e+01   7.75549572e+01
   -3.48226987e+01  -7.17215104e+01   5.80218721e+01   8.70880262e+01
   -9.21329391e-01  -1.46814054e+00   2.29316043e+01   1.00660213e+02
    1.44472041e+00]
 [ -2.09182546e-01  -1.26734833e+00   3.64999619e+00  -1.21193913e+00
   -2.31451041e+00  -1.85252366e+01   3.57816000e+00  -1.50412581e+00
   -2.57803526e+00  -7.12703804e+01  -3.80238710e+01   6.41592129e+01
    4.93155157e-01  -1.40030335e+01   1.69951667e+01   1.01173390e+02
    1.44820513e+00]
 [  1.03057325e+01   2.81032308e+01   7.35226585e+00  -1.07818004e-01
    1.21129214e+00  -3.42147358e+01   6.22418026e+01   1.95138364e+01
   -6.92641366e+01  -3.91903954e+01  -8.96985959e-01   8.34145791e+01
    1.44270942e+01   3.15191889e+01   8.50914678e+01   1.01408618e+02
    1.44520714e+00]]
[3 3 1 1 3 0 3 1 2 3 1 1 3 3 3 0 2]
TERMINATE: True, GOODNESS: True, SOFT_GOODNESS: True
bad states: None, Total Reward: 93.9885803628, Total Steps to terminate: 6
['0:right', '1:right', '2:down', '3:down', '4:right', '5:up', '6:right', '7:down', '8:left', '9:right', '10:down', '11:down', '12:right', '13:right', '14:right', '15:up', '16:left']

------------------------ Completed REINFORCE 1------------
------------------------ Completed REINFORCE 2------------
------------------------ Completed REINFORCE 6------------
------------------------ Completed qLearning--------------
